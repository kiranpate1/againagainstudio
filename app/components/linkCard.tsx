import Image from "next/image";
import { formatEventDate } from "@/app/utils/dateFormatter";

type Props = {
  title: string;
  date: string;
  link?: string;
  colors: string[];
};

export default function LinkCard({ title, date, link, colors }: Props) {
  return (
    <a
      href={link ?? "#"}
      target="_blank"
      className="group relative p-5 flex items-center justify-between gap-4 "
      style={{
        backgroundColor: `var(--${colors[0]})`,
        color: `var(--${colors[1]})`,
      }}
    >
      <Image
        className="absolute inset-0 object-cover mix-blend-multiply group-hover:contrast-125"
        src="/images/card-texture.png"
        alt=""
        fill
      />
      <svg
        className="absolute -inset-px w-[calc(100%+3px)] h-[calc(100%+3px)]"
        viewBox="0 0 366 64"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="none"
      >
        <path
          d="M364.531 47.7598L363.238 49.0527L364.531 50.3457V62.5527H360.498L360.465 62.5488L353.093 61.5654L350.717 62.5166L350.628 62.5527H286.413L286.308 62.5L283.553 61.1221L281.288 62.4814L281.15 62.5645L280.989 62.5508L275.052 62.0557L272.113 62.5459L271.976 62.5693L271.846 62.5166L269.476 61.5684L263.613 62.5459L263.572 62.5527H244.281L244.131 62.3525L242.824 60.6104L238.781 61.5088L237.885 62.4062L237.738 62.5527H220.864L220.731 62.4531L219.077 61.2129L217.885 62.4062L217.738 62.5527H202.504L202.476 62.5498L193.656 61.5693L192.309 62.4688L192.183 62.5527H180.977L180.923 62.541L176.558 61.5703L173.689 62.5273L173.327 62.6475L173.115 62.3301L172.294 61.0986L163.613 62.5459L163.572 62.5527H127.364L127.231 62.4531L125.401 61.0811L116.613 62.5459L116.523 62.5605L116.434 62.543L109.086 61.0732L105.729 62.5127L105.634 62.5527H74.8643L74.7314 62.4531L72.9131 61.0889L66.1357 62.542L65.7236 62.6299L65.5674 62.2383L64.7314 60.1484L55.6582 62.5361L55.5801 62.5566L55.499 62.5518L40.1104 61.5586L37.7168 62.5166L37.6279 62.5527H21.8242L20.3828 61.1113L15.1631 62.5352L15.0986 62.5527H0.53125V36.377L0.640625 36.2402L2.36035 34.0889L0.516602 32.2451L0.532227 32.0186L1.52637 17.5967L0.545898 13.6738L0.517578 13.5596L0.542969 13.4443C0.709277 12.6959 0.959353 11.5482 1.16699 10.5391C1.27081 10.0345 1.36298 9.56696 1.42969 9.20215C1.46308 9.01949 1.49006 8.86547 1.50781 8.74707C1.5167 8.68779 1.52236 8.63985 1.52637 8.60352C1.53077 8.56358 1.53125 8.54981 1.53125 8.55273C1.53125 8.56274 1.53193 8.53955 1.50977 8.46582C1.48934 8.39797 1.45712 8.31152 1.41309 8.20508C1.32233 7.98575 1.20606 7.74001 1.07422 7.44336C0.831796 6.89791 0.53125 6.17627 0.53125 5.55273V0.552734H15.0645L15.0977 0.556641L22.4111 1.53125L23.7539 0.636719L23.8799 0.552734H42.0439L42.0576 0.553711L60.9941 1.5498L65.9336 0.5625L66.1133 0.526367L66.2744 0.615234L70.4971 2.96094L73.7402 0.645508L73.8711 0.552734H109.183L109.309 0.636719L110.59 1.49023L112.846 0.588867L112.935 0.552734H144.102L144.169 0.572266L147.531 1.53223L150.894 0.572266L150.983 0.545898L151.076 0.554688L162.026 1.5498L170.473 0.556641L170.502 0.552734H203.149L205.149 1.55273H209.984L215.441 0.560547L215.486 0.552734H236.628L236.717 0.588867C237.129 0.753655 237.771 1.00084 238.358 1.20605C238.652 1.30885 238.927 1.39887 239.149 1.46289C239.261 1.49496 239.354 1.51862 239.427 1.53418C239.47 1.54343 239.498 1.54757 239.515 1.5498C239.522 1.54624 239.535 1.54166 239.552 1.53027C239.602 1.49576 239.666 1.43617 239.739 1.35156C239.885 1.18189 240.014 0.968938 240.084 0.829102L240.223 0.552734H259.55L259.568 0.553711L286.415 2.54199L289.783 0.618164L289.898 0.552734H331.122L331.207 0.584961L335.002 2.00781L337.808 0.605469L337.965 0.527344L338.136 0.563477L344.965 2.02637L346.808 1.10547L346.9 1.05957L347.004 1.05371L356.004 0.553711L356.018 0.552734H364.531V16.2197L364.432 16.3525L363.064 18.1738L364.521 25.4551L364.544 25.5645L364.517 25.6738L364.052 27.5322L364.506 28.8945L364.531 28.9717V47.7598Z"
          stroke={`var(--${colors[0]})`}
          strokeWidth="1"
          vectorEffect="non-scaling-stroke"
        />
      </svg>
      <div className="flex-1 paragraph text-balance">
        <p className="inline">{title}</p>{" "}
        <span
          className="inline-block -rotate-45"
          style={{ display: date ? "inline-block" : "none" }}
        >
          â†’
        </span>
      </div>
      <p className="paragraph">
        {date &&
          new Date(date).toLocaleDateString("en-US", {
            weekday: "short",
            month: "short",
            day: "numeric",
          })}
      </p>
    </a>
  );
}
